{"ts":1372105369903,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"#!/usr/bin/env node\n\nvar path = require('path'),\n\tserver = require('../server'),\n\tcompiler = require('../compiler')\n\nvar opts = {\n\tport:    1234,\n\thost:    'localhost',\n\tcommand: null,\n\tpath:    null\n}\n\nvar args = [].slice.call(process.argv, 2)\n\nopts.command = args.shift()\nopts.path = path.resolve(args.shift())\n\nwhile (args.length) {\n\tvar arg = args.shift()\n\tswitch(arg) {\n\t\tcase '--port':\n\t\t\topts.port = args.shift()\n\t\t\tbreak\n\t\tcase '--host':\n\t\t\topts.host = args.shift()\n\t\t\tbreak\n\t\tdefault:\n\t\t\tconsole.log('Unknown option', arg)\n\t\t\tprocess.exit(1)\n\t\t\tbreak\n\t}\n}\n\nswitch (opts.command) {\n\tcase 'serve':\n\t\tif (!opts.path) {\n\t\t\tconsole.log('Specify a path to serve from, e.g. require serve ./example')\n\t\t\tprocess.exit(1)\n\t\t}\n\t\tserver.listen(opts.port, { host:opts.host, path:opts.path })\n\t\tconsole.log('serving from', opts.path, 'on', 'http://'+opts.host+':'+opts.port)\n\t\tbreak\n\tcase 'compile':\n\t\tif (!opts.path) {\n\t\t\tconsole.log('Specify a single file to compile, e.g. require compile ./path/to/file.js')\n\t\t\tprocess.exit(1)\n\t\t}\n\t\tconsole.log(compiler.compile(opts.path))\n\t\tbreak\n\tdefault:\n\t\tif (opts.command) {\n\t\t\tconsole.log('Unknown command', '\"' + opts.command + '\".', 'Try \"require serve\" or \"require compile\"')\n\t\t} else {\n\t\t\tconsole.log('You need to give a command, e.g. \"require serve\" or \"require compile\"')\n\t\t}\n\t\tprocess.exit(1)\n}\n\n"]],"start1":0,"start2":0,"length1":0,"length2":1341}]],"length":1341}
